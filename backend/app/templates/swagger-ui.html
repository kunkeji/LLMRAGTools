<!DOCTYPE html>
<html>
<head>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5.9.0/swagger-ui.css">
    <link rel="shortcut icon" href="{{ favicon_url }}">
    <title>{{ title }} - API文档</title>
    <style>
        /* 自定义样式 */
        body {
            margin: 0;
            background-color: #fafafa;
        }
        .swagger-ui .topbar {
            background-color: #2c3e50;
            padding: 10px 0;
        }
        .swagger-ui .info {
            margin: 20px 0;
        }
        .swagger-ui .info .title {
            color: #2c3e50;
        }
        .swagger-ui .opblock-tag {
            border-bottom: 1px solid #eee;
            margin: 10px 0;
        }
        .swagger-ui .opblock {
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .swagger-ui .opblock .opblock-summary {
            padding: 10px;
        }
        /* 改进代码显示 */
        .swagger-ui .highlight-code {
            background-color: #272822;
            border-radius: 4px;
        }
        /* 改进响应区域 */
        .swagger-ui .responses-wrapper {
            background-color: #fff;
            border-radius: 4px;
            padding: 10px;
        }
        /* 改进认证按钮 */
        .swagger-ui .auth-wrapper .authorize {
            border-radius: 4px;
            background-color: #2c3e50;
            color: white;
        }
        /* 改进表单输入 */
        .swagger-ui .parameters-col_description input {
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 5px;
        }
    </style>
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5.9.0/swagger-ui-bundle.js"></script>
    <script>
        window.onload = function() {
            const ui = SwaggerUIBundle({
                url: '{{ openapi_url }}',
                dom_id: '#swagger-ui',
                deepLinking: true,
                displayOperationId: true,
                displayRequestDuration: true,
                defaultModelsExpandDepth: {{ swagger_ui_parameters.defaultModelsExpandDepth }},
                defaultModelExpandDepth: 3,
                defaultModelRendering: 'model',
                docExpansion: '{{ swagger_ui_parameters.docExpansion }}',
                filter: {{ swagger_ui_parameters.filter | lower }},
                maxDisplayedTags: null,
                showExtensions: true,
                showCommonExtensions: true,
                persistAuthorization: {{ swagger_ui_parameters.persistAuthorization | lower }},
                syntaxHighlight: {
                    theme: '{{ swagger_ui_parameters.syntaxHighlight.theme }}'
                },
                tryItOutEnabled: {{ swagger_ui_parameters.tryItOutEnabled | lower }},
                oauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIBundle.SwaggerUIStandalonePreset
                ],
            });
            window.ui = ui;
        };
    </script>
</body>
</html> 